"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function i(e){return setTimeout(function(){e._n!==0&&(e._wt=i(e))},1e4)}function s(e){return new Promise(t=>setTimeout(t,e))}class n{constructor(t=0){this._n=t,this._wt=null}add(t=1){if(this._n+=Number(t),this._n<0)throw new Error("Negative WaitGroup counter");this._n===0&&this.cancel()}done(){this.add(-1)}cancel(){this._resolve&&(this._resolve(),this._resolve=null),this._wt!==null&&(clearTimeout(this._wt),this._wt=null)}wait(){return this._p||(this._p=new Promise(t=>{if(this._resolve=t,this._n===0)return this.cancel();this._wt=i(this)})),this._p}}exports.WaitGroup=n;exports.sleep=s;
